# VibraCNC í”„ë¡œì íŠ¸ ì¢…í•© ë³´ê³ ì„œ

## ğŸ“‹ ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ë°ì´í„°ì…‹](#ë°ì´í„°ì…‹)
3. [ëª¨ë¸ ì•„í‚¤í…ì²˜](#ëª¨ë¸-ì•„í‚¤í…ì²˜)
4. [êµ¬í˜„ ë°©ë²•](#êµ¬í˜„-ë°©ë²•)
5. [ë¶„ì„ ë°©ë²•](#ë¶„ì„-ë°©ë²•)
6. [ì‹œê°í™” ë° ëŒ€ì‹œë³´ë“œ](#ì‹œê°í™”-ë°-ëŒ€ì‹œë³´ë“œ)
7. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
8. [ì£¼ìš” ê¸°ìˆ ì  í•´ê²° ì‚¬í•­](#ì£¼ìš”-ê¸°ìˆ ì -í•´ê²°-ì‚¬í•­)

---

## í”„ë¡œì íŠ¸ ê°œìš”

**VibraCNC**ëŠ” FFT(Fast Fourier Transform) ê¸°ë°˜ CNC ë°€ë§ ë¨¸ì‹ ì˜ ì§„ë™ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ê³µêµ¬ ë§ˆëª¨ë¡œ ì¸í•œ ì´ìƒ íŒ¨í„´ì„ íƒì§€í•˜ê³ , ê³µêµ¬ì˜ ì”ì—¬ ìˆ˜ëª…(Remaining Useful Life, RUL)ì„ ì˜ˆì¸¡í•˜ëŠ” AI ê¸°ë°˜ ì˜ˆì§€ë³´ì „(Predictive Maintenance) ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

### í”„ë¡œì íŠ¸ ëª©í‘œ
1. **ì´ìƒ íƒì§€**: ê³µêµ¬ ë§ˆëª¨ë¡œ ì¸í•œ ë¹„ì •ìƒ ì§„ë™ íŒ¨í„´ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€
2. **RUL ì˜ˆì¸¡**: ê³µêµ¬ì˜ ì”ì—¬ ìˆ˜ëª…ì„ ì˜ˆì¸¡í•˜ì—¬ êµì²´ ì‹œê¸° ìµœì í™”
3. **ì›ì¸ ë¶„ì„**: ì„¼ì„œë³„ ê¸°ì—¬ë„ë¥¼ ë¶„ì„í•˜ì—¬ ì´ìƒ ë°œìƒ ì›ì¸ ì§„ë‹¨
4. **ìš´ì˜ ìµœì í™”**: ë¹„ìš© íš¨ìœ¨ì ì¸ êµì²´ ì‹œê¸° ê²°ì • ì§€ì›

---

## ë°ì´í„°ì…‹

### PHM 2010 ë°€ë§ ë°ì´í„°ì…‹

**ë°ì´í„° ì†ŒìŠ¤**: Kaggle - PHM 2010 Data Challenge Dataset

**ë°ì´í„° êµ¬ì¡°**:
- **ì¡°ê±´(Conditions)**: 
  - ì •ìƒ ì¡°ê±´: `c1`, `c4`, `c6` (í•™ìŠµ ë°ì´í„°)
  - ì´ìƒ ì¡°ê±´: `c2`, `c3`, `c5` (í…ŒìŠ¤íŠ¸ ë°ì´í„°)
- **ì„¼ì„œ ë°ì´í„°**: ê° ì¡°ê±´ë³„ 315ê°œ cut íŒŒì¼ (CSV í˜•ì‹)
- **ìƒ˜í”Œë§ ë ˆì´íŠ¸**: 25,600 Hz
- **1 Cutë‹¹ ì†Œìš” ì‹œê°„**: ì•½ 8.5ì´ˆ

**ì„¼ì„œ ì¢…ë¥˜** (7ì±„ë„):
1. **Vibration X** (`vx`): Xì¶• ì§„ë™ (g)
2. **Vibration Y** (`vy`): Yì¶• ì§„ë™ (g)
3. **Vibration Z** (`vz`): Zì¶• ì§„ë™ (g)
4. **Force X** (`sx`): Xì¶• ì ˆì‚­ë ¥ (N)
5. **Force Y** (`sy`): Yì¶• ì ˆì‚­ë ¥ (N)
6. **Force Z** (`sz`): Zì¶• ì ˆì‚­ë ¥ (N)
7. **Temperature** (`temp`): ì˜¨ë„ (â„ƒ)

**ë°ì´í„° ì „ì²˜ë¦¬**:
- ë‹¤ìš´ìƒ˜í”Œë§: 10ë°° ë‹¤ìš´ìƒ˜í”Œë§ (25,600 Hz â†’ 2,560 Hz)
- ìœˆë„ìš° í¬ê¸°: 0.1ì´ˆ (2,560 ìƒ˜í”Œ)
- ìŠ¤íŠ¸ë¼ì´ë“œ: 0.05ì´ˆ (1,280 ìƒ˜í”Œ)
- ì‹œí€€ìŠ¤ ê¸¸ì´: 50 ìœˆë„ìš°

---

## ëª¨ë¸ ì•„í‚¤í…ì²˜

### 1. ì´ìƒ íƒì§€ ëª¨ë¸: LSTM AutoEncoder

#### êµ¬ì¡°
```
ì…ë ¥ ì‹œí€€ìŠ¤ (Batch, 50, Feature_Dim)
    â†“
Encoder LSTM (2 layers, hidden=64)
    â†“
Latent Space (32 dimensions)
    â†“
Decoder LSTM (2 layers, hidden=64)
    â†“
ì¬êµ¬ì„± ì¶œë ¥ (Batch, 50, Feature_Dim)
```

#### íŠ¹ì§•
- **Encoder**: ì…ë ¥ ì‹œí€€ìŠ¤ë¥¼ ì ì¬ ê³µê°„ìœ¼ë¡œ ì••ì¶•
- **Latent Space**: 32ì°¨ì›ìœ¼ë¡œ íŠ¹ì§• ì••ì¶•
- **Decoder**: ì ì¬ í‘œí˜„ì„ ì›ë³¸ ì°¨ì›ìœ¼ë¡œ ë³µì›
- **Loss Function**: MSE (Mean Squared Error)
- **ì •ê·œí™”**: í•™ìŠµ ë°ì´í„° ê¸°ì¤€ Min-Max ì •ê·œí™” (ì¶”ë¡  ì‹œ ë™ì¼ íŒŒë¼ë¯¸í„° ì ìš©)

#### í•™ìŠµ íŒŒë¼ë¯¸í„°
- Hidden Dimension: 64
- Latent Dimension: 32
- Number of Layers: 2
- Dropout: 0.1
- Learning Rate: 1e-3
- Batch Size: 64
- Epochs: 5-10 (ì¡°ê¸° ì¢…ë£Œ ì ìš©)

#### ì„ê³„ê°’ ì„¤ì •
- **ìœˆë„ìš° ë‹¨ìœ„ ì„ê³„ê°’**: `mean_error + 4 * std_error`
- **í”„ë ˆì„ ë‹¨ìœ„ ì„ê³„ê°’**: `mean_frame_error + 4 * std_frame_error`
- ì •ìƒ ë°ì´í„°ì˜ ì•½ 99.99%ë¥¼ í¬í•¨í•˜ë„ë¡ ì„¤ì •

### 2. RUL ì˜ˆì¸¡ ëª¨ë¸: Random Forest Regressor

#### íŠ¹ì§• ì¶”ì¶œ
ê° ìœˆë„ìš°ì—ì„œ ë‹¤ìŒ í†µê³„ íŠ¹ì§•ì„ ì¶”ì¶œ:
- **Mean**: í‰ê· ê°’
- **Std**: í‘œì¤€í¸ì°¨
- **Max**: ìµœëŒ€ê°’
- **Min**: ìµœì†Œê°’
- **RMS**: Root Mean Square
- **Crest Factor**: ìµœëŒ€ê°’ / RMS
- **Skewness**: ì™œë„
- **Kurtosis**: ì²¨ë„

**ì´ íŠ¹ì§• ìˆ˜**: 7 ì„¼ì„œ Ã— 8 í†µê³„ëŸ‰ = 56ê°œ íŠ¹ì§•

#### ëª¨ë¸ íŒŒë¼ë¯¸í„°
- Number of Estimators: 300
- Max Depth: None (ì œí•œ ì—†ìŒ)
- Min Samples Leaf: 1
- Random State: 42

#### ê²€ì¦ ë°©ë²•
- **Leave-One-Group-Out Cross-Validation (LOOCV)**: ê° ì¡°ê±´ì„ í•˜ë‚˜ì”© í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ë¡œ ì‚¬ìš©
- **í‰ê°€ ì§€í‘œ**: RMSE, MAE, RÂ² Score

### 3. ë§ˆëª¨ ì˜ˆì¸¡ ëª¨ë¸: CNN-LSTM Regressor

#### êµ¬ì¡°
```
ì…ë ¥ ì‹œí€€ìŠ¤ (Batch, 50, 7)
    â†“
CNN Feature Extraction
  - Conv1D (7â†’64 channels)
  - MaxPool1d
  - Conv1D (64â†’128 channels)
  - MaxPool1d
    â†“
LSTM (hidden=64, layers=1)
    â†“
Fully Connected Layers
  - Linear (64â†’32)
  - ReLU
  - Linear (32â†’1)
    â†“
ë§ˆëª¨ëŸ‰ ì˜ˆì¸¡ (mm)
```

#### íŠ¹ì§•
- **CNN**: ì‹œê³„ì—´ íŒ¨í„´ì—ì„œ íŠ¹ì§• ì¶”ì¶œ
- **LSTM**: ì‹œê°„ì  ì˜ì¡´ì„± ëª¨ë¸ë§
- **ì¶œë ¥**: ì—°ì†ì ì¸ ë§ˆëª¨ëŸ‰ ê°’ (mm)

---

## êµ¬í˜„ ë°©ë²•

### 1. FFT íŠ¹ì§• ì¶”ì¶œ íŒŒì´í”„ë¼ì¸

#### ë‹¨ê³„ë³„ ì²˜ë¦¬
1. **ìŠ¬ë¼ì´ë”© ìœˆë„ìš°**: ì‹œê³„ì—´ ë°ì´í„°ë¥¼ 0.1ì´ˆ ìœˆë„ìš°ë¡œ ë¶„í• 
2. **FFT ë³€í™˜**: ê° ìœˆë„ìš°ì— ëŒ€í•´ FFT ìˆ˜í–‰
3. **ì£¼íŒŒìˆ˜ ë„ë©”ì¸ ë³€í™˜**: ì‹œê°„ ë„ë©”ì¸ â†’ ì£¼íŒŒìˆ˜ ë„ë©”ì¸
4. **ì§„í­ ì¶”ì¶œ**: FFT ê²°ê³¼ì—ì„œ ì§„í­(Amplitude) ì¶”ì¶œ
5. **ì •ê·œí™”**: Min-Max ì •ê·œí™” (í•™ìŠµ ë°ì´í„° ê¸°ì¤€)

#### ì •ê·œí™” ì „ëµ
```python
# í•™ìŠµ ë°ì´í„°
norm_min = features.min(axis=0)
norm_max = features.max(axis=0)
normalized = (features - norm_min) / (norm_max - norm_min)

# ì¶”ë¡  ë°ì´í„° (ë™ì¼í•œ íŒŒë¼ë¯¸í„° ì‚¬ìš©)
normalized = (features - norm_min) / (norm_max - norm_min)
```

**í•µì‹¬**: í•™ìŠµ ë°ì´í„°ì˜ ì •ê·œí™” íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ë¡  ë°ì´í„°ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©í•˜ì—¬ "reconstruction error inversion" í˜„ìƒ ë°©ì§€

### 2. ì´ìƒ íƒì§€ íŒŒì´í”„ë¼ì¸

#### í•™ìŠµ ë‹¨ê³„
1. ì •ìƒ ë°ì´í„° ìˆ˜ì§‘ (`c1`, `c4`, `c6`ì˜ ì´ˆê¸° 10ê°œ cut)
2. FFT íŠ¹ì§• ìƒì„± ë° ì •ê·œí™”
3. LSTM AutoEncoder í•™ìŠµ
4. í•™ìŠµ ë°ì´í„°ì— ëŒ€í•œ ì¬êµ¬ì„± ì˜¤ì°¨ ê³„ì‚°
5. ì„ê³„ê°’ ì„¤ì • (`mean + 4 * std`)

#### ì¶”ë¡  ë‹¨ê³„
1. í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ
2. FFT íŠ¹ì§• ìƒì„± (í•™ìŠµ ë°ì´í„°ì˜ ì •ê·œí™” íŒŒë¼ë¯¸í„° ì‚¬ìš©)
3. ëª¨ë¸ì„ í†µí•œ ì¬êµ¬ì„±
4. ì¬êµ¬ì„± ì˜¤ì°¨ ê³„ì‚°
5. ì„ê³„ê°’ê³¼ ë¹„êµí•˜ì—¬ ì´ìƒ íŒì •

#### ì„¼ì„œë³„ ê¸°ì—¬ë„ ê³„ì‚°
```python
# ê° ì„¼ì„œë³„ ì¬êµ¬ì„± ì˜¤ì°¨ ê³„ì‚°
feature_errors = L1Loss(reconstruction, input).mean(dim=1)  # (batch, sensors)
total_error = feature_errors.mean(dim=1)  # (batch,)
```

### 3. ê·œì¹™ ê¸°ë°˜ ì´ìƒ íƒì§€

#### ê·œì¹™ ì •ì˜
```python
RuleDefinition(
    name="temp_high",
    column="temp",
    metric="max",
    operator="gt",
    threshold=65.0,
    description="ì˜¨ë„ê°€ 65Â°Cë¥¼ ì´ˆê³¼"
)
```

#### ì§€ì› ë©”íŠ¸ë¦­
- `mean`: í‰ê· ê°’
- `max`: ìµœëŒ€ê°’
- `min`: ìµœì†Œê°’
- `std`: í‘œì¤€í¸ì°¨
- `median`: ì¤‘ì•™ê°’
- `rms`: Root Mean Square

#### ì§€ì› ì—°ì‚°ì
- `gt`: Greater Than (>)
- `ge`: Greater or Equal (>=)
- `lt`: Less Than (<)
- `le`: Less or Equal (<=)

### 4. RUL ì˜ˆì¸¡ íŒŒì´í”„ë¼ì¸

#### íŠ¹ì§• ì¶”ì¶œ
ê° ìœˆë„ìš°ì—ì„œ 7ê°œ ì„¼ì„œì— ëŒ€í•´ 8ê°€ì§€ í†µê³„ëŸ‰ ê³„ì‚°:
- ì´ 56ê°œ íŠ¹ì§• ìƒì„±

#### í•™ìŠµ ê³¼ì •
1. íŠ¹ì§• ì¶”ì¶œ ë° ì •ê·œí™” (StandardScaler)
2. Random Forest ëª¨ë¸ í•™ìŠµ
3. Leave-One-Group-Out Cross-Validationìœ¼ë¡œ ì„±ëŠ¥ í‰ê°€
4. í”¼ì²˜ ì¤‘ìš”ë„ ê³„ì‚° ë° ì €ì¥

#### ì˜ˆì¸¡
- ê° cutì˜ ë§ˆì§€ë§‰ ìœˆë„ìš° íŠ¹ì§•ì„ ì‚¬ìš©í•˜ì—¬ RUL ì˜ˆì¸¡
- ì˜ˆì¸¡ ê²°ê³¼ëŠ” cut ë‹¨ìœ„ë¡œ ì§‘ê³„

---

## ë¶„ì„ ë°©ë²•

### 1. ì„¼ì„œë³„ ê¸°ì—¬ë„ ë¶„ì„

ê° ì„¼ì„œì˜ ì¬êµ¬ì„± ì˜¤ì°¨ë¥¼ ê°œë³„ì ìœ¼ë¡œ ê³„ì‚°í•˜ì—¬ ì´ìƒ ë°œìƒ ì‹œ ì–´ë–¤ ì„¼ì„œê°€ ê°€ì¥ í° ê¸°ì—¬ë¥¼ í•˜ëŠ”ì§€ ë¶„ì„í•©ë‹ˆë‹¤.

**ê³„ì‚° ë°©ë²•**:
```python
# ê° ì„¼ì„œë³„ L1 Loss ê³„ì‚°
sensor_errors = torch.abs(reconstruction - input)  # (batch, seq, sensors)
feature_errors = sensor_errors.mean(dim=1)  # (batch, sensors)
```

**í™œìš©**:
- ì´ìƒ ë°œìƒ ì‹œ ì£¼ì›ì¸ ì„¼ì„œ ì‹ë³„
- ì„¼ì„œë³„ ìœ„í—˜ ê¸°ì—¬ë„ ì‹œê°í™”
- ì§„ë‹¨ ë¦¬í¬íŠ¸ ìƒì„±

### 2. AI ì§„ë‹¨ ë¡œì§

ê°€ì¥ ë†’ì€ ê¸°ì—¬ë„ë¥¼ ë³´ì´ëŠ” ì„¼ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¬¼ë¦¬ì  ì›ì¸ì„ ì§„ë‹¨:

| ì„¼ì„œ | ì˜ˆìƒ ì›ì¸ | ì§„ë‹¨ ë©”ì‹œì§€ |
|------|----------|------------|
| Vib X / Y | ë¶ˆì•ˆì • ë–¨ë¦¼ (Chatter) | íšŒì „ì¶• ì •ë ¬(Run-out)ì´ë‚˜ ê³ ì • ìƒíƒœ ì ê²€ í•„ìš” |
| Vib Z | ë°”ë‹¥ë©´ ì¶©ê²© (Bouncing) | ìˆ˜ì§ ì¶• ì •ë ¬ ë¶ˆëŸ‰ì´ë‚˜ ê³ ì • ì¥ì¹˜ ë¬¸ì œ |
| Force X / Y | ê³¼ë¶€í•˜ (Overload) | ì´ì†¡ ì†ë„ ì¡°ì ˆ ë˜ëŠ” ê³µêµ¬ ë§ˆëª¨ ìƒíƒœ í™•ì¸ |
| Force Z | ìˆ˜ì§ ì••ë ¥ ê³¼ë‹¤ (Plunging) | ì¹©(Chip) ë°°ì¶œ ë¶ˆëŸ‰ì´ë‚˜ ë‚  ë íŒŒì† ì˜ì‹¬ |
| Temp | ë¯¸ì„¸ ê· ì—´/ë§ˆì°° | ìœ¤í™œìœ  ë¶€ì¡±, ê³¼ì—´, ë˜ëŠ” ë¯¸ì„¸ í¬ë™ ë°œìƒ ê°€ëŠ¥ì„± |

### 3. í†µê³„ì  ë¶„ì„

#### ì •ìƒ ê¸°ì¤€ê°’ ê³„ì‚°
- `c1` ì¡°ê±´ì˜ ì „ì²´ ë°ì´í„° í‰ê· ì„ ì •ìƒ ê¸°ì¤€ê°’ìœ¼ë¡œ ì„¤ì •
- ê° ì„¼ì„œë³„ í‰ê·  ì¬êµ¬ì„± ì˜¤ì°¨ ê³„ì‚°
- í˜„ì¬ ê°’ì´ ê¸°ì¤€ê°’ì˜ 3ë°°ë¥¼ ì´ˆê³¼í•˜ë©´ ìœ„í—˜ìœ¼ë¡œ íŒë‹¨

#### ì¶”ì„¸ ë¶„ì„
- ìµœê·¼ 50ê°œ ìœˆë„ìš°ì˜ ì´ìƒ ì ìˆ˜ ì¶”ì„¸ ë¶„ì„
- ì„ í˜• íšŒê·€ë¥¼ í†µí•œ ê³ ì¥ ì‹œì  ì˜ˆì¸¡
- RUL ê³„ì‚°ì— í™œìš©

---

## ì‹œê°í™” ë° ëŒ€ì‹œë³´ë“œ

### 1. Tkinter ê¸°ë°˜ ì‹¤ì‹œê°„ ë·°ì–´ (`cnc_viewer.py`)

#### ì£¼ìš” ê¸°ëŠ¥

**Tab 1: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**
- í˜„ì¬ ì‘ì—… Cut ë²ˆí˜¸ í‘œì‹œ
- ì‹¤ì‹œê°„ ì´ìƒ ì ìˆ˜ ì¶”ì´ ê·¸ë˜í”„
- ê²½ê³¼ ì‹œê°„ í‘œì‹œ (1 cutë‹¹ 8.5ì´ˆ ê¸°ì¤€)
- ì¥ë¹„ ìƒíƒœ í‘œì‹œ (ì •ìƒ/ìœ„í—˜)

**Tab 2: ì˜ˆì¸¡ ë° ì§„ë‹¨**
- ì˜ˆì¸¡ ë§ˆëª¨ëŸ‰ í‘œì‹œ ë° ê·¸ë˜í”„
- RUL (Remaining Useful Life) ì˜ˆì¸¡
- êµì²´ í•œê³„ì¹˜ í‘œì‹œ
- êµì²´ ì‹œê¸° ì¶”ì²œ ë©”ì‹œì§€

**Tab 3: ì‹¬ì¸µ ë¶„ì„ (Why?)**
- ğŸ¤– AI ê³ ì¥ ì›ì¸ ì§„ë‹¨ ë¦¬í¬íŠ¸
  - ì£¼ì›ì¸ ì„¼ì„œ ìë™ ê°ì§€
  - ì„¼ì„œë³„ ë§ì¶¤ ì§„ë‹¨ ë©”ì‹œì§€
- ì„¼ì„œë³„ ìœ„í—˜ ê¸°ì—¬ë„ ë§‰ëŒ€ ê·¸ë˜í”„
- ìµœê·¼ 50 step ì„¼ì„œ íŒ¨í„´ íˆíŠ¸ë§µ
- ì •ìƒ vs í˜„ì¬ ìƒíƒœ ë¹„êµ í…Œì´ë¸”

**Tab 4: ìš´ì˜ ìµœì í™” (ROI)**
- ë¹„ìš© íŒŒë¼ë¯¸í„° ì„¤ì • (ê³ ì¥ ë¹„ìš©, êµì²´ ë¹„ìš©)
- ì˜ˆìƒ ì ˆê° ë¹„ìš© ê³„ì‚°
- AI êµì²´ ì œì•ˆ

#### ê¸°ìˆ ì  íŠ¹ì§•
- **ì‹¤ì œ ì‹œê°„ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜**: `time.perf_counter()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •í™•í•œ ì‹œê°„ ì¶”ì 
- **ì»· ë²ˆí˜¸ ì´ë™ ê¸°ëŠ¥**: íŠ¹ì • ì»· ì§€ì ìœ¼ë¡œ ì¦‰ì‹œ ì´ë™
- **ì†ë„ ì¡°ì ˆ**: 0.1x ~ 10x ì†ë„ ì¡°ì ˆ ê°€ëŠ¥
- **GUI ìµœì í™”**: 5 stepë§ˆë‹¤ í•œ ë²ˆë§Œ GUI ì—…ë°ì´íŠ¸í•˜ì—¬ ì„±ëŠ¥ í–¥ìƒ

### 2. ê²°ê³¼ ìƒì„± ìŠ¤í¬ë¦½íŠ¸ (`generate_results.py`)

#### ê¸°ëŠ¥
- ëª¨ë“  ì¡°ê±´ì— ëŒ€í•´ ì´ìƒ ì ìˆ˜ ë° ì„¼ì„œë³„ ê¸°ì—¬ë„ ì‚¬ì „ ê³„ì‚°
- Cut ê²½ê³„ ì •ë³´ ì €ì¥ (JSON í˜•ì‹)
- `.npy` í˜•ì‹ìœ¼ë¡œ ê²°ê³¼ ì €ì¥ (ë¹ ë¥¸ ë¡œë”©)

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
VibraCNC/
â”œâ”€â”€ src/vibracnc/              # í•µì‹¬ íŒ¨í‚¤ì§€
â”‚   â”œâ”€â”€ anomaly/              # ì´ìƒ íƒì§€ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ autoencoder.py    # LSTM AutoEncoder ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ pipeline.py       # FFT íŠ¹ì§• ìƒì„± ë° í•™ìŠµ íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â””â”€â”€ rules.py          # ê·œì¹™ ê¸°ë°˜ ì´ìƒ íƒì§€
â”‚   â”œâ”€â”€ rul/                  # RUL ì˜ˆì¸¡ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ features.py       # í†µê³„ íŠ¹ì§• ì¶”ì¶œ
â”‚   â”‚   â””â”€â”€ trainer.py        # Random Forest í•™ìŠµ
â”‚   â”œâ”€â”€ data/                 # ë°ì´í„° ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ download.py       # Kaggle ë°ì´í„° ë‹¤ìš´ë¡œë“œ
â”‚   â”‚   â”œâ”€â”€ loader.py         # CSV íŒŒì¼ ë¡œë”©
â”‚   â”‚   â”œâ”€â”€ preprocessing.py  # ìœˆë„ìš° ì²˜ë¦¬ ë° FFT
â”‚   â”‚   â””â”€â”€ targets.py        # ë§ˆëª¨ëŸ‰ ë°ì´í„° ë¡œë”©
â”‚   â”œâ”€â”€ config.py             # ì„¤ì • í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ workflows.py          # í•™ìŠµ/ì¶”ë¡  ì›Œí¬í”Œë¡œìš°
â”‚   â”œâ”€â”€ cli.py                # ëª…ë ¹í–‰ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ monitoring.py         # ëª¨ë‹ˆí„°ë§ ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â”œâ”€â”€ analysis.py           # ë¶„ì„ ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â””â”€â”€ diagnostics.py        # ì§„ë‹¨ ë¦¬í¬íŠ¸ ìƒì„±
â”‚
â”œâ”€â”€ cnc_viewer.py             # Tkinter ê¸°ë°˜ ì‹¤ì‹œê°„ ë·°ì–´
â”œâ”€â”€ generate_results.py       # ê²°ê³¼ ì‚¬ì „ ê³„ì‚° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ train_wear_model.py       # ë§ˆëª¨ ì˜ˆì¸¡ ëª¨ë¸ í•™ìŠµ
â”‚
â”œâ”€â”€ data/phm2010/             # ë°ì´í„°ì…‹
â”‚   â”œâ”€â”€ c1/, c4/, c6/         # ì •ìƒ ì¡°ê±´
â”‚   â”œâ”€â”€ c2/, c3/, c5/         # ì´ìƒ ì¡°ê±´
â”‚   â””â”€â”€ wear.csv              # ë§ˆëª¨ëŸ‰ ì •ë‹µì§€
â”‚
â””â”€â”€ artifacts/                # ì‚°ì¶œë¬¼
    â”œâ”€â”€ models/               # í•™ìŠµëœ ëª¨ë¸
    â”œâ”€â”€ results/              # ì‚¬ì „ ê³„ì‚°ëœ ê²°ê³¼
    â””â”€â”€ figures/              # ì‹œê°í™” ê²°ê³¼
```

---

## ì£¼ìš” ê¸°ìˆ ì  í•´ê²° ì‚¬í•­

### 1. ì •ê·œí™” ë¬¸ì œ í•´ê²°

**ë¬¸ì œ**: 
- í•™ìŠµ ë°ì´í„°ì™€ ì¶”ë¡  ë°ì´í„°ë¥¼ ê°ê° ë…ë¦½ì ìœ¼ë¡œ ì •ê·œí™”
- "Reconstruction Error Inversion" í˜„ìƒ ë°œìƒ
- ë§ˆëª¨ê°€ ì§„í–‰ëœ ë°ì´í„°ê°€ ì •ìƒ ë°ì´í„°ë³´ë‹¤ ë” ë‚®ì€ ì¬êµ¬ì„± ì˜¤ì°¨ë¥¼ ë³´ì„

**í•´ê²°**:
- í•™ìŠµ ë°ì´í„°ì—ì„œ ì •ê·œí™” íŒŒë¼ë¯¸í„°(`norm_min`, `norm_max`) ê³„ì‚°
- ì¶”ë¡  ì‹œ ë™ì¼í•œ ì •ê·œí™” íŒŒë¼ë¯¸í„° ì ìš©
- `AnomalyDetectionArtifacts`ì— ì •ê·œí™” íŒŒë¼ë¯¸í„° ì €ì¥ ë° ë¡œë“œ

**ê²°ê³¼**: ì´ìƒ íƒì§€ìœ¨ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™ (ì •ìƒ ì¡°ê±´: 27-36%, ì´ìƒ ì¡°ê±´: 29-56%)

### 2. ì„ê³„ê°’ ì„¤ì • ê°œì„ 

**ë³€ê²½ ì‚¬í•­**:
- Percentile ê¸°ë°˜ â†’ `mean + N * std` ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½
- `N = 4`ë¡œ ì„¤ì •í•˜ì—¬ ì •ìƒ ë°ì´í„°ì˜ ì•½ 99.99% í¬í•¨
- ìœˆë„ìš° ë‹¨ìœ„ì™€ í”„ë ˆì„ ë‹¨ìœ„ ì„ê³„ê°’ ë¶„ë¦¬

**íš¨ê³¼**: ë” ì •í™•í•œ ì´ìƒ íƒì§€ ë° ë‚®ì€ False Positive Rate

### 3. ì‹¤ì œ ì‹œê°„ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜

**êµ¬í˜„**:
- `time.perf_counter()`ë¥¼ ì‚¬ìš©í•œ ì •í™•í•œ ì‹œê°„ ì¶”ì 
- Tkinterì˜ `after()` ë©”ì„œë“œ ë¶€ì •í™•ì„± ë³´ì™„
- 1 cutë‹¹ 8.5ì´ˆ ê¸°ì¤€ìœ¼ë¡œ ì‹¤ì œ ì‹œê°„ ë™ê¸°í™”

**íš¨ê³¼**: ì‹œë®¬ë ˆì´ì…˜ì´ ì‹¤ì œ ì‘ì—… ì‹œê°„ê³¼ ì¼ì¹˜í•˜ê²Œ ë™ì‘

### 4. Cut ê²½ê³„ ì •ë³´ ê´€ë¦¬

**êµ¬í˜„**:
- ê° cut íŒŒì¼ì˜ ì‹œì‘ step ì¸ë±ìŠ¤ë¥¼ JSON íŒŒì¼ë¡œ ì €ì¥
- `cut_boundaries.json` íŒŒì¼ ìƒì„±
- ë·°ì–´ì—ì„œ ì •í™•í•œ cut ë²ˆí˜¸ í‘œì‹œ

**íš¨ê³¼**: ì‹œí€€ìŠ¤ ì¸ë±ìŠ¤ì™€ ì‹¤ì œ cut ë²ˆí˜¸ ê°„ ì •í™•í•œ ë§¤í•‘

---

## ì„±ëŠ¥ ì§€í‘œ

### ì´ìƒ íƒì§€ ì„±ëŠ¥
- **ì •ìƒ ì¡°ê±´ (c1, c4, c6)**: ì´ìƒ íƒì§€ìœ¨ 27-36%
- **ì´ìƒ ì¡°ê±´ (c2, c3)**: ì´ìƒ íƒì§€ìœ¨ 29-56%
- **ì„ê³„ê°’**: `mean + 4 * std` (ì•½ 0.04-0.05)

### RUL ì˜ˆì¸¡ ì„±ëŠ¥
- **í‰ê°€ ë°©ë²•**: Leave-One-Group-Out Cross-Validation
- **í‰ê°€ ì§€í‘œ**: RMSE, MAE, RÂ² Score
- **í”¼ì²˜ ì¤‘ìš”ë„**: ìƒìœ„ íŠ¹ì§•ë“¤ì´ ë§ˆëª¨ ì§„í–‰ê³¼ ë†’ì€ ìƒê´€ê´€ê³„

---

## ì‚¬ìš© ê¸°ìˆ  ìŠ¤íƒ

### ë”¥ëŸ¬ë‹ í”„ë ˆì„ì›Œí¬
- **PyTorch**: LSTM AutoEncoder, CNN-LSTM ëª¨ë¸ êµ¬í˜„

### ë¨¸ì‹ ëŸ¬ë‹ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **scikit-learn**: Random Forest, ë°ì´í„° ì „ì²˜ë¦¬, êµì°¨ ê²€ì¦

### ë°ì´í„° ì²˜ë¦¬
- **NumPy**: ìˆ˜ì¹˜ ì—°ì‚° ë° ë°°ì—´ ì²˜ë¦¬
- **Pandas**: ë°ì´í„°í”„ë ˆì„ ì¡°ì‘ ë° ì‹œê³„ì—´ ì²˜ë¦¬

### ì‹œê°í™”
- **Matplotlib**: ì •ì  ê·¸ë˜í”„ ìƒì„±
- **Tkinter**: ë°ìŠ¤í¬í†± GUI ì• í”Œë¦¬ì¼€ì´ì…˜

### ì‹ í˜¸ ì²˜ë¦¬
- **FFT**: Fast Fourier Transformì„ í†µí•œ ì£¼íŒŒìˆ˜ ë„ë©”ì¸ ë³€í™˜

---

## ê²°ë¡ 

VibraCNC í”„ë¡œì íŠ¸ëŠ” FFT ê¸°ë°˜ íŠ¹ì§• ì¶”ì¶œê³¼ LSTM AutoEncoderë¥¼ í™œìš©í•˜ì—¬ CNC ë°€ë§ ë¨¸ì‹ ì˜ ê³µêµ¬ ë§ˆëª¨ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ íƒì§€í•˜ê³ , Random Forestë¥¼ í†µí•œ RUL ì˜ˆì¸¡ìœ¼ë¡œ ì˜ˆì§€ë³´ì „ì„ ì‹¤í˜„í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹œê°„ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ê³¼ ì§ê´€ì ì¸ GUIë¥¼ í†µí•´ ì‹¤ë¬´ í™˜ê²½ì—ì„œ í™œìš© ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ì„±ê³¼
1. âœ… ì •ê·œí™” ë¬¸ì œ í•´ê²°ë¡œ ì•ˆì •ì ì¸ ì´ìƒ íƒì§€ ì„±ëŠ¥ í™•ë³´
2. âœ… ì„¼ì„œë³„ ê¸°ì—¬ë„ ë¶„ì„ì„ í†µí•œ ì›ì¸ ì§„ë‹¨ ê¸°ëŠ¥ êµ¬í˜„
3. âœ… ì‹¤ì œ ì‹œê°„ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ í˜„ì‹¤ì ì¸ ëª¨ë‹ˆí„°ë§ í™˜ê²½ ì œê³µ
4. âœ… ë‹¤ì¤‘ ëª¨ë¸ í†µí•© (ì´ìƒ íƒì§€ + RUL ì˜ˆì¸¡ + ë§ˆëª¨ ì˜ˆì¸¡)

### í–¥í›„ ê°œì„  ë°©í–¥
- [ ] ì¶”ê°€ ëª¨ë¸ ë¹„êµ ì‹¤í—˜ (Isolation Forest, GRU ë“±)
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ ì—°ë™
- [ ] ë” ì •êµí•œ ì„ê³„ê°’ ìë™ ì¡°ì • ì•Œê³ ë¦¬ì¦˜
- [ ] ë‹¤ì¤‘ ì¡°ê±´ í†µí•© í•™ìŠµ ë°©ë²• ì—°êµ¬

---

**ì‘ì„±ì¼**: 2024ë…„  
**í”„ë¡œì íŠ¸ ë²„ì „**: 1.0  
**ë¼ì´ì„ ìŠ¤**: MIT

